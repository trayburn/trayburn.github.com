---
title: "Learning Adapters : SAP"
layout: post
---
<p>With my current client I've had a chance to work with the SAP adapter for the first time, which is a treat since most of my work with BizTalk has revolved around HIPAA and EDI.&nbsp; So I've been working with it for several weeks, and I very much like the delivery of the adapter with one, glaring gotcha which I'll discuss.</p> <p>The way the adapter works is that you can access any iDoc or RFC from SAP by creating a port configured with identity you will connect with, and then selecting to add items to your solution and select Add Generated Items... and finally select "Add Adapter Metadata".&nbsp; You can then walk through the process of selecting your port and searching for your RFC or iDoc.&nbsp; When you've completed the wizard you will have a newly generated XSD schema added to your project.&nbsp; Happy days, and off you go, until deployment time.</p> <p>You see, when the wizard walked through that process, for an RFC, it generated an assembly, quietly, in a directory which on most boxes will be : C:\Program Files\Microsoft BizTalk Adapter v2.0 for mySAP Business Suite\Bin.&nbsp; That assembly is required for the Adapter to work at runtime, and as such must be included in your deployments.&nbsp; Add to this pickle that the assembly is not strongly named, so you can't put it in the GAC like everything else and life get's really interesting.&nbsp; </p> <p>This one caught me completely off guard, and personally I consider this a major flaw in the design of the adapter.&nbsp; I've now added two new items to my "To Do" list.&nbsp; First, implement Scott Colestock's deployment framework on my project so I don't have to deal with external resources and the BizTalk "Export MSI" functionality.&nbsp; Second, learn more about the Line of Business Adapter SDK and the new WCF adapters to systems like SAP&nbsp;that I attended a talk about at TechEd this year.</p>
