---
title: "Code Generation"
layout: post
---
<p>I am a huge fan of code generation.&nbsp; I've used it to incredible advantage.&nbsp; I'm talking about real dollar value impacting effect that could make or break a project.&nbsp; If you're reading this and haven't yet drunk the Kool-Aid, then now is the time.&nbsp; Read on.</p> <p>Code Generation is the process of letting code write code, <strong>usually</strong> at design-time.&nbsp; There are tons of examples on the net to demonstrate this and I won't repeat them here (follow some links below and you'll get to some fine examples).&nbsp; Instead I'm going to discuss the concept pure theoretically.</p> <p><strong>When to "CodeGen" :</strong>&nbsp;The criteria for this are quite simple.&nbsp; If you have something which already defines the structure you desire and you are trying to reflect that same structure in something else, then you should use code generation.&nbsp; This is why data access layers are the classic example, because you are mimicking the structure of the database in your data access layer.</p> <p><strong>Why to "CodeGen" :</strong> Time and Agility!&nbsp; The time is takes to setup a code-generation system is a fragment of the amount of time it takes to write the same code for all source entities.&nbsp; Your template takes slightly longer than the time it takes for one class, but can then be instantly be applied to all your source entities.&nbsp; If you have a database with 50 tables, write one class, turn that one class into a template and bingo ... 50 classes.</p> <p>Agility is the other reason.&nbsp; Let's say you code all 50 classes by hand, and then the next day the DBA refactors your database and adds a new table which has foreign keys to lots of other tables.&nbsp; Your 50 classes, pretty much toast.&nbsp; If you have generated those 50 classes using code generation, then this is no problem, simply re-run your same template (no changes there, it's agnostic to what database it's looking at) and bingo, 51 classes all with the right relationships.</p> <p><strong>What to "CodeGen" : </strong>Data Access Layers are popular, but so are lots of other things.&nbsp; Databases make a good structured source of entities you could generate against, but so are XSD Schemas, XML Files, and lots of other stuff.</p> <p><strong>Where to "CodeGen" :</strong>&nbsp;There are lots of great tools to use for code generation out there, so many I could likely exhaust my fingers typing them all, but there are just a few which come with my <strong>"Stamp of Approval":</strong></p> <ul> <li><a href="http://www.codesmithtools.com" target="_new"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="108" src="http://www.timrayburn.net/content/binary/WindowsLiveWriter/CodeGeneration_12B0A/CodeGen-CodeSmithLogo%5B4%5D.png" width="280" align="right" border="0"> CodeSmith</a> - From CodeSmith Tools this is, in my opinion, the greatest code generator going.&nbsp; I use it for almost all my code generation.&nbsp; The syntax is very much like ASP.NET and is easy to manage.&nbsp; The product is also easy to integrate into a nightly build process.</li> <ul> <li><a href="http://www.nettiers.com/">.NET Tiers</a> - This is a set of templates create by the community for use with CodeSmith.&nbsp; These templates will generate stored procedures, data access layers, business objects and web controls all from your database at the push of a button.&nbsp; Oh, and it all has Unit Tests.&nbsp; Check this out.</li></ul> <li><a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=89E6B1E5-F66C-4A4D-933B-46222BB01EB0&amp;displaylang=en">XSDObjectGen</a> - One of the few things CodeSmith does not do well, yet, is generate from XSDs.&nbsp; XSDObjectGen creates Serializable classes which represent your XSD's structure completely.&nbsp; XSD.exe, which comes with Visual Studio, does similar things, but XSDObjectGen does it 10x better.</li></ul>
