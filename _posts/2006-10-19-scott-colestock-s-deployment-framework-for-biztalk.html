---
title: "Scott Colestock's Deployment Framework for BizTalk"
layout: post
---
<p>Today I had the pleasure of <strong>finally</strong> integrating the BizTalk solution at my current client site into the <a href="http://www.traceofthought.com">Deployment Framework for BizTalk created by Scott Colestock</a>.&nbsp; They are still using BizTalk Server 2004 so the process began with downloading the 2004 version of the Framework from Scott's site and getting the latest version of NAnt and NAntContrib.</p> <p>Overall I've always considered the Deployment Framework to be a joy to work with, but this is the first time I've had to retro-fit it into such an extensive existing solution.&nbsp; Some of the things which I encountered follow as reminders of gotchas in such an endeavor.</p> <ul> <li>It is not mentioned in the documentation, but Scott's framework has an "additionalComponents" property which deploys pre-compiled assemblys from the Deploy Tools directory.&nbsp; My client was already using log4net, but a newer version than what ships with the framework and I had to override this property so it didn't deploy two versions of log4net to the GAC.</li> <li>Remember that any Visual Basic .NET assemblies need to have their Build configurations changed to compile to bin\debug and bin\release.&nbsp; By default VB.NET has one location "bin" which holds whatever you compiled last.</li> <li>When retrofitting your existing bindings file to use XmlPreProcessor to swap out local environment settings, I found that CodeRush from DevExpress saved the day.&nbsp; It allowed me to create a simple expansion template which took whatever was on my clipboard and inserted it twice into the structure of the expension, once inside the PreProcessor directive, once outside.</li> <li>If you are working with alot of directly linked receive and send ports, then you'll want to modify the XPaths file in deploy tools to encode the Filter tag for ports as well as all the other tags it does already.&nbsp; I submitted this back to Scott who graciously thanked me for catching that and said he'd include it in the next 2006 release, and in 2004 if he ever did another release of that version.</li> <li>You'll definitely want to look at <a href="http://www.traceofthought.net/PermaLink,guid,8e762292-bab4-4c46-a737-249da7a047b3.aspx">this article by Scott</a> which discusses how to add additional HAT queries to the deploy framework as well.</li></ul>
