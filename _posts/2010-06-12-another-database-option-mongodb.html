---
title: "Another Database Option - MongoDB"
layout: post
---
<p><a href="http://timrayburn.net/files/media/image/WindowsLiveWriter/AnotherDatabaseOptionMongoDB_B26D/logo-mongodb_2.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; margin-left: 0px; border-top: 0px; margin-right: 0px; border-right: 0px" title="logo-mongodb" border="0" alt="logo-mongodb" align="right" src="http://timrayburn.net/files/media/image/WindowsLiveWriter/AnotherDatabaseOptionMongoDB_B26D/logo-mongodb_thumb.png" width="217" height="90" /></a> It’s been far to long since I’ve talked here about what I’m working on, so it is time to correct that.&#160; I’ve been working with a client who has some very unique business requirements, and one of them deals with a lot of flexibility of their data storage.&#160; As such we were looking into different types of storage, because while SQL Server is in fact a wonderful product, it is not known for its flexibility of storage.</p>  <p>This quest led us to the door of a large number of databases in the “No SQL” arena, and eventually to <a href="http://mongodb.org/">MongoDB</a>.&#160; MongoDB is a document database, which stores what can best be described to the .NET Developer as a Dictionary&lt;string,object&gt;.&#160; This structure allows for nesting of structures (where the object stored is another Dictionary) and is a very clever structure if you ask me.&#160; But, document databases do not work like relational databases.&#160; There are several important things you need to realize:</p>  <ol>   <li>Documents databases do not generally support the concept of JOINS.&#160; If you retrieve data, and it refers to other data, then you need to make another call to the database to retrieve that data.</li>    <ul>     <li>This leads to the core concept of preferring to embed (in the dictionary) data rather than refer to data.</li>   </ul>    <li>Document databases do not generally support a defined structure, they do not have tables but rather “collections” which have no definition in the database.&#160; It is perfectly valid for one entry in a collection to have a key “dateOfAccount” which is a string type, and another with that same key as a date.</li>    <li>Document databases do not include a validation structure, any validation of the data (including structural data as noted above) must be enforced by your application.</li> </ol>  <p>In the world of .NET there are several drivers, but the one my team, <a href="http://blog.davidohara.net/">David O’Hara</a> and Craig Neuwirt and I, decided on was <a href="http://github.com/samus/mongodb-csharp">MongoDB-CSharp</a>.&#160; They have just released version 0.9 beta 1, which moves the driver a lot closer to a familiarity level for most .NET developers.&#160; Now we had to address on our project all of the above problems, and key to us doing so has been a component called <a href="http://www.castleproject.org/castle/download.html">DictionaryAdapater</a> from the <a href="http://www.castleproject.org/">Castle Project</a>.&#160; But that is a topic for another blog post.</p>
